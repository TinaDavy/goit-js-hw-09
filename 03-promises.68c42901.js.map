{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAGMC,GADOC,SAASC,cAAc,SACjBD,SAASC,cAAc,wBACpCC,EAAYF,SAASC,cAAc,sBACnCE,EAAcH,SAASC,cAAc,wBAG3C,SAASG,EAAcC,EAAUC,GAC/B,OAAO,IAAIC,SAAQ,SAACC,EAASC,GACLC,KAAKC,SAAW,GAGpCH,EAAS,CAACH,WAAUC,UAEpBG,EAAQ,CAACJ,WAAUC,S,IATPN,SAASC,cAAc,yBAc/BW,iBAAiB,SACzB,SAAkBC,GAChBA,EAAMC,iBAON,IALA,IAAIC,EAAaC,OAAOjB,EAAWkB,OAC7BC,EAAOF,OAAOd,EAAUe,OACxBE,EAASH,OAAOb,EAAYc,OAE5BG,EAAW,GACRC,EAAI,EAAGC,EAAIP,EAAYM,EAAIF,EAAQE,GAAK,EAAGC,GAAIJ,EACtDE,EAASG,KAAKnB,EAAciB,EAAE,EAAGC,IAEnCE,QAAQC,IAAIL,GAEZb,QAAQmB,WAAWN,GAAUO,MAAK,SAACC,GACjCA,EAAQC,SAAQ,SAACC,GACfN,QAAQC,IAAIK,GACZC,YAAW,WACTD,EAAOH,MAAK,SAAAK,G,IAAE3B,EAAQ2B,EAAR3B,SAAUC,EAAK0B,EAAL1B,M,OACxBT,EAAAoC,OAAOC,QAAQ,uBAAwCC,OAAf9B,EAAS,QAAY8B,OAAN7B,EAAM,M,IAC1D8B,OAAI,SAAAJ,G,IAAE3B,EAAQ2B,EAAR3B,SAAUC,EAAK0B,EAAL1B,M,OACnBT,EAAAoC,OAAOI,QAAQ,sBAAuCF,OAAf9B,EAAS,QAAY8B,OAAN7B,EAAM,M,MAE9DS,GAAaG,E,OAMjBM,QAAQC,IAAIV,GACZS,QAAQC,IAAIP,GACZM,QAAQC,IAAIN,E","sources":["src/js/03-promises.js"],"sourcesContent":["import { Notify } from \"notiflix\";\n\nconst form = document.querySelector(\".form\");\nconst delayInput = document.querySelector('input[name=\"delay\"]');\nconst stepInput = document.querySelector('input[name=\"step\"]');\nconst amountInput = document.querySelector('input[name=\"amount\"]');\nconst createBtn = document.querySelector('button[type=\"submit\"]');\n\nfunction createPromise(position, delay) {\n  return new Promise((resolve, reject) => {\n    const shouldResolve = Math.random() > 0.3;\n\n    if (shouldResolve) {\n      resolve(({position, delay}));\n    } else {\n      reject(({position, delay}));\n    };\n  });\n  };\n\ncreateBtn.addEventListener(\"click\", onSubmit);\n  function onSubmit(event){\n    event.preventDefault();\n\n    let firstDelay = Number(delayInput.value);\n    const step = Number(stepInput.value);\n    const amount = Number(amountInput.value);\n\n    const promises = [];\n    for (let i = 0, j = firstDelay; i < amount; i += 1, j +=step) {\n      promises.push(createPromise(i+1, j));\n    };\n    console.log(promises)\n\n    Promise.allSettled(promises).then((results) => {\n      results.forEach((result) => {\n        console.log(result)\n        setTimeout(() => {\n          result.then(({position, delay}) =>\n          Notify.success(`✅ Fulfilled promise ${position} in ${delay}ms`))\n          .catch(({position, delay}) =>\n          Notify.failure(`❌ Rejected promise ${position} in ${delay}ms`))\n        },\n        firstDelay +=step)\n      });\n    });\n\n\n\n    console.log(firstDelay)\n    console.log(step)\n    console.log(amount)\n  };\n\n\n    \n\n        // Викликати ф-ю кріейт проміс емаунт разів\n    // кожен проміс викликати із затримкою делей та збільшенням затрики на степ мілісекунд\n    // перший проміс делей, 2-й - делей+степ і т.д.\n"],"names":["$6JpON","parcelRequire","$ce04d3a99e08e73b$var$delayInput","document","querySelector","$ce04d3a99e08e73b$var$stepInput","$ce04d3a99e08e73b$var$amountInput","$ce04d3a99e08e73b$var$createPromise","position","delay","Promise","resolve","reject","Math","random","addEventListener","event","preventDefault","firstDelay","Number","value","step","amount","promises","i","j","push","console","log","allSettled","then","results","forEach","result","setTimeout","param","Notify","success","concat","catch","failure"],"version":3,"file":"03-promises.68c42901.js.map"}